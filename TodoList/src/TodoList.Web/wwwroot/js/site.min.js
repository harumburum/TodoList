!function(){"use strict";angular.module("app",["ngResource"])}(),function(){"use strict";var o=angular.module("app"),t="/api/todo/:id";toastr.options.timeOut=4e3,toastr.options.positionClass="toast-bottom-right";var n={remoteResourceName:t,version:"0.0.1"};o.value("config",n),o.config(["$logProvider",function(o){o.debugEnabled&&o.debugEnabled(!0)}])}(),function(){"use strict";function o(o){function t(o,t){switch(t=t||"log",t.toLowerCase()){case"success":t="logSuccess";break;case"error":t="logError";break;case"warn":t="logWarning";break;case"warning":t="logWarning"}var n=u[t]||u.log;return function(t,e,r){n(t,e,o,void 0===r?!0:r)}}function n(o,t,n,e){i(o,t,n,e,"info")}function e(o,t,n,e){i(o,t,n,e,"warning")}function r(o,t,n,e){i(o,t,n,e,"success")}function a(o,t,n,e){i(o,t,n,e,"error")}function i(t,n,e,r,a){var i="error"===a?o.error:o.log;e=e?"["+e+"] ":"",i(e,t,n),r&&("error"===a?toastr.error(t):"warning"===a?toastr.warning(t):"success"===a?toastr.success(t):toastr.info(t))}var u={getLogFn:t,log:n,logError:a,logSuccess:r,logWarning:e};return u}angular.module("app").factory("logger",["$log",o])}(),function(){"use strict";function o(o,n){function e(){n.query().$promise.then(function(o){f("Todos loaded."),l.todos=o},function(o){g("Failed to load todos: "+o)})}function r(){return 0!==l.todoText.length&&l.todoText.trim()}function a(){if(r()){var o=new n;o.text=l.todoText,o.done=!1,o.$save(o).then(function(o){f('Todo "'+o.text+'" was added.'),l.todos.push(o),l.todoText=""},function(o){g("Failed to add todo: "+o)})}}function i(){var o=l.todos.filter(function(o){return o.done});return o.length>0}function u(){if(i()){var o=l.todos;l.todos=[],angular.forEach(o,function(o){o.done?o.$remove({id:o.id}).then(function(o){f('Todo "'+o.text+'" was removed.')},function(o){g("Failed to remove todo: "+o)}):l.todos.push(o)})}}function c(){var o=0;return angular.forEach(l.todos,function(t){o+=t.done?0:1}),o}function d(o){o.$update().then(function(o){f('Todo "'+o.text+'" was updated.')},function(o){g("Failed to update todo: "+o)})}var s=o.getLogFn,f=s(t),g=s(t,"error"),l=this;l.todos=[],l.todoText="",l.canAdd=r,l.add=a,l.canArchive=i,l.archive=u,l.remaining=c,l.changed=d,e()}var t="TodoController";angular.module("app").controller(t,o),o.$inject=["logger","Todo"]}(),function(){"use strict";function o(o,t){return o(t.remoteResourceName,null,{update:{method:"PUT"}})}angular.module("app").factory("Todo",["$resource","config",o])}();